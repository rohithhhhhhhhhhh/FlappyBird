(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))S(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const v of c.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&S(v)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function S(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();const A=t=>"/FlappyBird/"+t,y=document.getElementById("gameCanvas"),e=y.getContext("2d"),d=400,i=600;y.width=d;y.height=i;const s={START:"start",PLAYING:"playing",GAME_OVER:"gameOver"};let u=s.START;const w=new Image;w.src=A("allu-arjun.png");let P=!1;w.onload=()=>{P=!0};const f=new Audio(A("flap.mp3"));f.preload="auto";const h=new Audio(A("gameover.mp3"));h.preload="auto";function H(){function t(){f.play().catch(()=>{}),f.pause(),f.currentTime=0,h.play().catch(()=>{}),h.pause(),h.currentTime=0,document.removeEventListener("keydown",t),document.removeEventListener("click",t)}document.addEventListener("keydown",t,{once:!0}),document.addEventListener("click",t,{once:!0})}H();const o={x:100,y:i/2,width:35,height:35,velocity:0,gravity:.35,jumpStrength:-8,rotation:0},g=[],l=60,x=180,O=2.5;let m=0;const Y=90;let E=0;const I=document.getElementById("score"),C=document.getElementById("gameOver"),G=document.getElementById("startScreen"),b=document.getElementById("finalScore");function p(){if(!P){e.fillStyle="#FFD700",e.fillRect(o.x,o.y,o.width,o.height);return}e.save(),e.translate(o.x+o.width/2,o.y+o.height/2);const t=Math.PI/6;o.rotation=Math.max(-t,Math.min(t,o.velocity*.05)),e.rotate(o.rotation),e.drawImage(w,-35/2,-35/2,o.width,o.height),e.restore()}function M(){const n=i-x-50-100,a=Math.random()*(n-50)+50;g.push({x:d,topHeight:a,bottomY:a+x,scored:!1})}function N(){g.forEach(t=>{const n=e.createLinearGradient(t.x,0,t.x+l,0);n.addColorStop(0,"#2ecc71"),n.addColorStop(.5,"#27ae60"),n.addColorStop(1,"#229954"),e.fillStyle=n,e.fillRect(t.x,0,l,t.topHeight),e.fillStyle="#27ae60",e.fillRect(t.x-5,t.topHeight-30,l+10,30);const a=e.createLinearGradient(t.x,0,t.x+l,0);a.addColorStop(0,"#2ecc71"),a.addColorStop(.5,"#27ae60"),a.addColorStop(1,"#229954"),e.fillStyle=a,e.fillRect(t.x,t.bottomY,l,i-t.bottomY),e.fillStyle="#27ae60",e.fillRect(t.x-5,t.bottomY,l+10,30),e.strokeStyle="#1e8449",e.lineWidth=3,e.strokeRect(t.x,0,l,t.topHeight),e.strokeRect(t.x,t.bottomY,l,i-t.bottomY)})}function B(){u===s.PLAYING&&(o.velocity+=o.gravity,o.y+=o.velocity,o.y+o.height>i&&(o.y=i-o.height,L()),o.y<0&&(o.y=0,o.velocity=0),m++,m%Y===0&&M(),g.forEach((t,n)=>{t.x-=O,_(o,t)&&L(),!t.scored&&t.x+l<o.x&&(t.scored=!0,E++,I.textContent=`Score: ${E}`),t.x+l<0&&g.splice(n,1)}))}function _(t,n){return t.x+t.width>n.x&&t.x<n.x+l&&(t.y<n.topHeight||t.y+t.height>n.bottomY)}function k(){const t=e.createLinearGradient(0,0,0,i*.7);t.addColorStop(0,"#87CEEB"),t.addColorStop(1,"#B0E0E6"),e.fillStyle=t,e.fillRect(0,0,d,i*.7);const n=e.createLinearGradient(0,i*.7,0,i);n.addColorStop(0,"#90EE90"),n.addColorStop(1,"#7CCD7C"),e.fillStyle=n,e.fillRect(0,i*.7,d,i*.3),e.fillStyle="rgba(255, 255, 255, 0.7)";const a=[80,150,100,180];[m*.2%(d+100),(m*.15+200)%(d+100),(m*.25+100)%(d+100),(m*.18+300)%(d+100)].forEach((r,c)=>{e.beginPath(),e.arc(r,a[c],20,0,Math.PI*2),e.arc(r+15,a[c],25,0,Math.PI*2),e.arc(r+35,a[c],20,0,Math.PI*2),e.fill()})}function j(){k(),N(),p()}function R(){B(),j(),requestAnimationFrame(R)}function T(){u===s.START?D():u===s.PLAYING?(o.velocity=o.jumpStrength,f.currentTime=0,f.play().catch(t=>console.log("Audio play failed:",t))):u===s.GAME_OVER&&F()}function D(){u=s.PLAYING,G.classList.add("hidden"),o.velocity=o.jumpStrength,f.currentTime=0,f.play().catch(t=>console.log("Audio play failed:",t))}function L(){u===s.PLAYING&&(u=s.GAME_OVER,b.textContent=E,C.classList.remove("hidden"),h.currentTime=0,h.play().catch(t=>console.log("Audio play failed:",t)))}function F(){u=s.START,o.y=i/2,o.velocity=0,o.rotation=0,g.length=0,E=0,m=0,I.textContent="Score: 0",C.classList.add("hidden"),G.classList.remove("hidden")}document.addEventListener("keydown",t=>{(t.code==="Space"||t.code==="ArrowUp"||t.code==="KeyW")&&(t.preventDefault(),T())});y.addEventListener("click",()=>{T()});window.addEventListener("resize",()=>{document.getElementById("game-container");const t=Math.min(window.innerWidth/d,window.innerHeight/i)*.9;y.style.transform=`scale(${t})`});window.dispatchEvent(new Event("resize"));R();
//# sourceMappingURL=index-DTENc3Xb.js.map
